#navigation {
  background: $blue;
  position: relative;
  z-index: 100;

  .dropdown-menu {
    border-top: 0;
    border-color: $blue;

    &>li {
      &.dropdown-submenu {
        .dropdown-menu {
          @include border-radius(0);
          border-top: 2px solid $blue; 
          margin-left: 0;
        } 
        &:hover, &:focus {
          &>a {
            background: $blue; 
            color: $white;

            &:after {
              border-left-color: $white; 
            }
          } 
        }
      } 
    }
    &>a {
      &:hover {
        background: $blue; 
        color: $white;
        filter: none;
      } 
    }
  }

	.toggle-nav {
		float: left;
		color: $white;
		display: none;
		padding: 10px;
		font-size: 14px;
		text-decoration: none;
		&:hover{
			background-color: darken($blue, 15%);
		}
	}

  #brand {
	  float: left;
		color: $white;
		font-size: 20px;
		margin-top: 9px;
		padding-right: 10px;
		padding-left: 10px;
		padding-bottom: 2px;

    img {
      height: 25px; 
      margin-right: 5px;
    }

    &:hover {
      text-decoration: none; 
    }
  }

  .mobile-nav {
		display: none;

		&>li {
			&>ul {
				display: none;
			}
		}

		&.open {
			display: block;
			list-style: none;
			padding: 0 20px 20px 20px;
			margin: 0;
			background: $blue;

			&>li {
				display: block;
				margin-top: 1px;

				&:first-child {
					margin-top: 0;
				}

				&.active {
					&>a {
						background: darken($blue, 25%);
						color: $white;
					}

					&>ul {
						background: darken($blue, 25%);
					}
				}

				&>a {
					display: block;
					background: darken($blue, 15%);
					padding: 8px 12px;
					color: $white;
					text-decoration: none;

					i {
						float:right;
						margin-top: 3px;
					}
				}

				&>ul {
					background: darken($blue,15%);
					list-style-type: none;
					margin: 0;
					padding: 0 0 10px 0;

					&.open {
						display: block;
					}

					&>li {
						a {
							padding:4px 35px;
							display: block;
							color: $white;
							text-decoration: none;
						}
						ul {
							list-style-type:none;
						}
					}
				}
			}	
		}
	}

  .dropdown{
    float: left;

    &.open {
      background: darken($blue, 15%);
    }
    &>a {
      display: block;
      color: $white;
      padding: 7px 12px 6px 12px;
      text-decoration: none;

      &:hover {
        background: darken($blue, 15%);
      }

      img {
        margin-left: 10px;
        height: 27px;
      }
    }
  }
	
	.main-nav {
		@extend .ulreset;
		float: left;

		&>li {
			float: left;
			position: relative;
			margin: 0;

			&.active {
				&>a {
					background: $light;
					text-decoration: none;
					color: $dark;

					.caret {
						border-top-color: #333;
					}

					&:hover {
						background: $light;
					}
				}
			}

			&.open {
				&>a {
					background: darken($blue, 10%);
					text-decoration: none;
				}

				&.active {
					&>a {
						background: $white;
					}

					&>.dropdown-menu {
						left: -2px;

						&>.active {
							&>a {
								background: #ddd;
								color: #333;
								filter: none;

								&:after {
									border-left-color: #666;
								}
							}
						}
					}
				}
			}

			&>a {
				display: block;
				padding: 11px 15px;
				color: $white;

				&:hover {
					text-decoration: none;
					background: darken($blue, 10%);
				}

				.caret {
					border-top-color: $white;
					margin: 9px 0 0 2px;
				}
			}
		}
	}
}
